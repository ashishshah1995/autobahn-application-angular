{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let FavoritesService = /*#__PURE__*/(() => {\n  class FavoritesService {\n    constructor() {}\n\n    getFavoritesList() {\n      const storageEntry = localStorage.getItem('favoritesList');\n      return storageEntry === null ? [] : JSON.parse(storageEntry);\n    }\n\n    getFavoriteDetails(highwayId) {\n      var _a;\n\n      const favoritesList = this.getFavoritesList();\n      const highwayEntry = (_a = favoritesList.find(favoriteDetails => favoriteDetails.highwayId === highwayId)) !== null && _a !== void 0 ? _a : null;\n      return highwayEntry;\n    }\n\n    insertFavoriteDetails(favoriteDetails) {\n      const originalFavoritesList = this.getFavoritesList(); // Create a new favorites list with the updated details by first clearing the corresponding details if any,\n      // then inserting the new details.\n\n      const finalFavoritesList = [...originalFavoritesList.filter(fd => fd.highwayId !== favoriteDetails.highwayId), favoriteDetails];\n      this.setFavoritesList(finalFavoritesList);\n    }\n\n    removeFavoriteDetails(highwayId) {\n      const originalFavoritesList = this.getFavoritesList(); // Create a new favorites list with the updated details by clearing the corresponding details.\n\n      const finalFavoritesList = originalFavoritesList.filter(fd => fd.highwayId !== highwayId);\n      this.setFavoritesList(finalFavoritesList);\n    }\n\n    clearFavorites() {\n      localStorage.removeItem('favoritesList');\n    }\n\n    setFavoritesList(favoritesList) {\n      // Local storage only allows us to store string values, so we use JSON to encode the list as a string.\n      const storageEntry = JSON.stringify(favoritesList);\n      localStorage.setItem('favoritesList', storageEntry);\n    }\n\n  }\n\n  FavoritesService.ɵfac = function FavoritesService_Factory(t) {\n    return new (t || FavoritesService)();\n  };\n\n  FavoritesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: FavoritesService,\n    factory: FavoritesService.ɵfac,\n    providedIn: 'root'\n  });\n  return FavoritesService;\n})();","map":null,"metadata":{},"sourceType":"module"}